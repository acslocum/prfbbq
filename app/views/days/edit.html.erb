<h1>Day: Edit</h1>

<nav class="admin">
  <%= link_to 'Back', days_path %>
</nav>

<% form_for(@day) do |f| %>
  <div id="error_message">
    <%= f.error_messages %>
  </div>

  <!-- <div class="input_container short">
  <label for="bbq_date">Event Date</label>
    <%= f.date_select :bbq_date %>
  </div> -->
  
  <h2 class="bbq_title"><%= @day.bbq.full_title%></h2>
  
  <div class="input_container short">
    <label for="bbq_date">Event Date</label>
    <input id="bbq_date" type="text" class="date" />
  </div>
  
  <!-- <div class="input_container clearfix long">
    <%#= f.label :bbq_id %>
    <%#= f.select(:bbq_id,options_for_select(present_bbqs_select_list))%>
  </div> -->
  
  <div class="input_container long clearfix">
	  <%= f.label :venue_id %>
	  <%= f.select(:venue_id,options_for_select(venue_select_list))%>
  </div>
  
  <div class="input_container">
    <%= f.label :content %>
    <%= f.text_area :content %>
  </div>
  
  <div class="input_container short">
    <%= f.label :start_time %>
    <%= f.text_field :start_time, :class=>'time' %>
  </div>
  
  <div class="input_container short">
    <%= f.label :end_time %>
    <%= f.text_field :end_time, :class=>'time' %>
  </div>
  
  <%= f.submit 'Create' %>
<% end %>

<% content_for :javascript do %>
  <script>
    $(function() {
      $('select').customSelects();
      
      var value = $('.bbq_title').text(),
          valueSplitOne = value.split(' : '),
          valueSplitTwo = valueSplitOne[1].split(' - '),
          date = valueSplitTwo[0];

      $('#bbq_date')
        .datepicker()
        .datepicker('setDate', new Date(date))
        .datepicker('option', 'dateFormat', 'yy-mm-dd');
        
      $('input.time').timeEntry();
      $('input.time').blur(function() {
        new CleanValue(this);
      });
    });
  </script>
<% end %>